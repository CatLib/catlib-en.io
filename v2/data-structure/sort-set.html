<!doctype html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="description" content>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1.0, user-scalable=0">

    

    

    <!-- stylesheets -->
    <link rel="stylesheet" href="/styles/cookbook.css">
    <link rel="stylesheet" href="/styles/fontawesome.css">
    
      <link rel="stylesheet" href="/styles/gitment.css">
    

    <!-- favicon -->
    
    <link rel="shortcut icon" href="/favicon.ico">
    

    

    

    <title>CatLib - Sort Set </title>
  </head>

  <body>
    
    
    <div id="cookbook" :class="{'with-summary' : withSummary}" v-cloak>
    <div class="cookbook-summary">
    
    <search placeholder="Type to search" :versions="versions" :root="root" v-model="searched" v-on:submit="searchSubmit" :disable="searchDisabled" v-on:disabled="setSearchDisabled"></search>
    <navigation :data="navigation" :web="web" :versions="versions" :root="root" active="v2/data-structure/sort-set.html" :subnavdata="contentNavigation" :value="contentOffset" :searchdisabled="searchDisabled"></navigation>
    
</div>    <div class="cookbook-content" ref="content">
    
    <div class="cookbook-header" role="navigation">
        <header-tool :web="web" path="v2/data-structure/sort-set.html" editor v-model="withSummary"></header-tool>
        <header-navigation :web="web" :versions="versions" :root="root"></header-navigation>
    </div>
    <div class="content-wrapper" @click="hidenSummary" :style="minHeightStyle">
        <checkout :navigation="navigation" :web="web" :versions="versions" v-model="checkout"></checkout>
        <div v-if="checkout" class="cookbook-search-results">
            <div id="search-noresults" v-show="searched == null">
                <section ref="section" class="markdown-section">
                    <h1 id="About"><a href="#About" class="headerlink" title="About"></a>About</h1><p>An ordered collection is also a collection of elements, like a collection, and does not allow duplicate members. The difference is that each element is associated with a score that can be sorted.</p>
<p>An ordered collection is a fractionation of the members of the collection from small to large. The members of an ordered collection are unique, but the scores can be repeated.</p>
<blockquote>
<p>In the following sample code: <code>foo/10</code> means <code>TElement</code> is <code>foo</code>, <code>TSource</code> is <code>10</code></p>
</blockquote>
<h2 id="Add"><a href="#Add" class="headerlink" title="Add"></a>Add</h2><p>Add an element to the ordered collection, or update its score if it already exists and sort it to the correct location.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/5", "c/10" ]</span></span><br><span class="line"><span class="keyword">set</span>.Add(<span class="string">"foo"</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// [ "a/0", "foo/3", "b/5", "c/10" ]</span></span><br></pre></td></tr></table></figure>
<h2 id="Contains"><a href="#Contains" class="headerlink" title="Contains"></a>Contains</h2><p>Determines whether the specified element exists in the sort set.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "bar/0", "foo/5", "baz/10" ]</span></span><br><span class="line"><span class="keyword">set</span>.Contains(<span class="string">"foo"</span>);</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="GetScore"><a href="#GetScore" class="headerlink" title="GetScore"></a>GetScore</h2><p>Returns the score of the specified element in the sort set, or <code>KeyNotFoundException</code> if the element does not exist.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "bar/0", "foo/5", "baz/10" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetScore(<span class="string">"foo"</span>);</span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<h2 id="GetRangeCount"><a href="#GetRangeCount" class="headerlink" title="GetRangeCount"></a>GetRangeCount</h2><p>Get the number of elements in the fractional interval. (contains <code>min</code> or <code>max</code>)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetRangeCount(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">//  2</span></span><br></pre></td></tr></table></figure>
<h2 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h2><p>Removes the specified element from the ordered collection and returns <code>false</code> if the removal fails.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.Remove(<span class="string">"c"</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="comment">// [ "a/0", "b/10", "d/101" ]</span></span><br></pre></td></tr></table></figure>
<h2 id="RemoveRangeByRank"><a href="#RemoveRangeByRank" class="headerlink" title="RemoveRangeByRank"></a>RemoveRangeByRank</h2><p>Removes all elements within the range based on the specified <code>rank range</code> and returns the number of removed elements. (contains <code>startRank</code> or <code>stopRank</code>)</p>
<blockquote>
<p>Ranked at 0</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.RemoveRangeByRank(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// [ "a/0", "d/101" ]</span></span><br></pre></td></tr></table></figure>
<h2 id="RemoveRangeByScore"><a href="#RemoveRangeByScore" class="headerlink" title="RemoveRangeByScore"></a>RemoveRangeByScore</h2><p>Removes all elements within the range based on the specified <code>score range</code> and returns the number of removed elements. (contains <code>startScore</code> or <code>stopScore</code>)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.RemoveRangeByRank(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// [ "a/0", "d/101" ]</span></span><br></pre></td></tr></table></figure>
<h2 id="GetRank"><a href="#GetRank" class="headerlink" title="GetRank"></a>GetRank</h2><p>Gets the ranking of the specified element. The sort set members are sorted by Score <strong>from small to large</strong> by default (if the custom comparison function is based on the custom comparison function order). If you return <code>-1</code>, it means that no elements were found.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetRank(<span class="string">"c"</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h2 id="GetRevRank"><a href="#GetRevRank" class="headerlink" title="GetRevRank"></a>GetRevRank</h2><p>Gets the reverse ranking of the specified element. The sort set members are sorted by Score <strong>from big to small</strong> by default (if the custom comparison function is based on the reverse order of the custom comparison function). If you return <code>-1</code>, it means that no elements were found.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line">sorset.GetRevRank(<span class="string">"c"</span>);</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h2 id="GetElementRangeByRank"><a href="#GetElementRangeByRank" class="headerlink" title="GetElementRangeByRank"></a>GetElementRangeByRank</h2><p>According to the <strong>ranking</strong>, the list of elements in the range is obtained, and the sorting is from small to large according to the ranking (given the custom comparison function according to the order of the custom comparison function). (contains <code>startRank</code> or <code>stopRank</code>)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetElementRangeByRank(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// [0] : "b/10"</span></span><br><span class="line"><span class="comment">// [1] : "c/95"</span></span><br></pre></td></tr></table></figure>
<h2 id="GetElementRangeByScore"><a href="#GetElementRangeByScore" class="headerlink" title="GetElementRangeByScore"></a>GetElementRangeByScore</h2><p>According to the <code>score</code> get the list of elements in the range, the sorting is from small to large (the custom comparison function is given the custom comparison function order). (contains <code>startScore</code> or <code>stopScore</code>)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetElementRangeByScore(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">// [0] : "b/10"</span></span><br><span class="line"><span class="comment">// [1] : "c/95"</span></span><br></pre></td></tr></table></figure>
<h2 id="GetElementByRank"><a href="#GetElementByRank" class="headerlink" title="GetElementByRank"></a>GetElementByRank</h2><p>Get the elements according to the ranking, sorting according to the ranking <strong>from small to large</strong> (given the custom comparison function according to the custom comparison function order)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetElementByRank(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// "c/95"</span></span><br></pre></td></tr></table></figure>
<h2 id="GetElementByRevRank"><a href="#GetElementByRevRank" class="headerlink" title="GetElementByRevRank"></a>GetElementByRevRank</h2><p>Get elements based on rankings, sorted by size <strong>from large to small</strong> (given custom comparison functions in reverse order of custom comparison functions)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetElementByRevRank(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// "b/10"</span></span><br></pre></td></tr></table></figure>
<h2 id="GetIterator"><a href="#GetIterator" class="headerlink" title="GetIterator"></a>GetIterator</h2><p>To get an iterator, you need to pass in a value to determine whether it is a preorder traversal.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// physical order: [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="comment">// foreach order: [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetIterator();</span><br><span class="line"></span><br><span class="line"><span class="comment">// physical order: [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="comment">// foreach order: [ "d/101", "c/95", "b/10", "a/0" ]</span></span><br><span class="line"><span class="keyword">set</span>.GetIterator(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<h2 id="First"><a href="#First" class="headerlink" title="First"></a>First</h2><p>Get the first element.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.First();</span><br><span class="line"><span class="comment">// "a/0"</span></span><br></pre></td></tr></table></figure>
<h2 id="Last"><a href="#Last" class="headerlink" title="Last"></a>Last</h2><p>Get the last element.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.Last();</span><br><span class="line"><span class="comment">// "d/101"</span></span><br></pre></td></tr></table></figure>
<h2 id="Shift"><a href="#Shift" class="headerlink" title="Shift"></a>Shift</h2><p>Removes and returns the elements of the sort set header.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.Shift();</span><br><span class="line"><span class="comment">// "a/0"</span></span><br><span class="line"><span class="comment">// [ "b/10", "c/95", "d/101" ]</span></span><br></pre></td></tr></table></figure>
<h2 id="Pop"><a href="#Pop" class="headerlink" title="Pop"></a>Pop</h2><p>Removes and returns the elements at the end of the sort set.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.Pop();</span><br><span class="line"><span class="comment">// "d/101"</span></span><br><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95" ]</span></span><br></pre></td></tr></table></figure>
<h2 id="this-int"><a href="#this-int" class="headerlink" title="this[int]"></a>this[int]</h2><p>Get the element of the specified ranking.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>[<span class="number">2</span>];</span><br><span class="line"><span class="comment">// "b/10"</span></span><br></pre></td></tr></table></figure>
<h2 id="ToArray"><a href="#ToArray" class="headerlink" title="ToArray"></a>ToArray</h2><p>Convert an sort set to an array.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ "a/0", "b/10", "c/95", "d/101" ]</span></span><br><span class="line"><span class="keyword">set</span>.ToArray();</span><br><span class="line"><span class="comment">// [ "a", "b", "c", "d" ]</span></span><br></pre></td></tr></table></figure>
                </section>

                
                    <div ref="comments" id="gitment-container"></div>
                
                
                <support :web="web" visiable></support>
            </div>
            <div v-if="searched != null" id="search-result" class="search-result" v-cloak>
                <p v-if="searched.results.length > 0" class="search-title">
                    与"{{ searched.keyword }}"相关的内容{{searched.results.length}}条
                </p>
                <p v-else class="search-title">无搜索结果可以匹配"{{ searched.keyword }}"</p>
                <div v-for="(record) in searched.results" class="searched-line">
                    <h3>
                        <a :href="'/' + record.href + '#!' + encodeURI(anchorEscaping(record.hash))" @click="clearSearch">
                            {{ record.hash }}
                        </a>
                    </h3>
                    <ul>
                        <li><i>{{ record.page }} <span v-if="record.page_title != ''">- {{ record.page_title }}</span></i> <i>score:<span>{{ record.score }}</span></i></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
</div></div>

<script>
window.onload = function(){  
    new Vue({
        el : '#cookbook',
        data: { 
            navigation : {"navigation":[{"levels":[{"text":"CatLib","href":"/"},{"text":"Core","href":"index.html"}]},{"divider":true},{"text":"Getting Started"},{"text":"Introduction","href":"index.html"},{"text":"Code style","href":"style.html"},{"text":"FAQ","href":"faq.html"},{"text":"Contribution","href":"contribution.html"},{"text":"Upgrade","href":"upgrade.html"},{"text":"Migration","href":"migration.html"},{"text":"Architecture"},{"text":"Service Provider","href":"architecture/service-provider.html"},{"text":"Application","href":"architecture/application.html"},{"text":"Container","href":"architecture/container.html"},{"text":"Facade","href":"architecture/facade.html"},{"text":"Components"},{"text":"Event Dispatcher","href":"components/event-dispatcher.html"},{"text":"Helper"},{"text":"Arr","href":"helper/arr.html"},{"text":"Str","href":"helper/str.html"},{"text":"Guard","href":"helper/guard.html"},{"text":"Data Structure"},{"text":"Sort Set","href":"data-structure/sort-set.html"},{"divider":true},{"text":"Power by CatLib","href":"https://github.com/CatLib","external":true}]},
            web : {"navigation":[{"type":"versions","mobile":true},{"type":"normal","text":"中文文档","href":"https://cn.catlib.io/lasted/index.html"},{"type":"icon","fontawesome":"github","href":"https://github.com/CatLib/Core","mobile":true}],"tool":{"editor":{"text":"Edit","href":"https://github.com/CatLib/catlib-en.io/tree/2.0/","external":true}},"support":{"label":["Not find want the document?","Try searching in the search bar on the left, or {text}"],"text":"question in GitHub","href":"https://github.com/CatLib/catlib-en.io/issues","external":true}},
            versions: {
                current :  {"test":"^v2\\/","name":"v2.0","active":"Latest(v2.0)","data":"v2"},
                list: [{"test":"^v2\\/","name":"v2.0","active":"Latest(v2.0)","data":"v2"}]
            },
            withSummary : true,
            isPC : null,
            checkout: false,
            root: "/",
            contentNavigation: [],
            contentOffset : { 'offsetTop' : 0, 'height' : 0 },
            searched: null,
            searchDisabled: localStorage.getItem("search-input-disabled") == 'true',
            clientHeight : 0
        },
        methods :{
            testPC : function(){ 
                var userAgentInfo = navigator.userAgent;
                var deviceReg = [
                    /(MI(\s+)|2013022|2013023|HM|2014011|2014501|2014813|2014811|2014812|2014817|2014818|2014819|2014502|2015|xiaomi).*/i,
                    /(MI(.*|\s*)PAD).*/i,
                    /(iPhone | iPod).*/i,
                    /(iPad).*/i,
                    /(Android).*/i,
                    /(iPhone|iPad|iPod|iOS).*/i,
                    /(windows(.*|\s*)phone).*/i
                ];
                var flag = true;
                for (var v = 0; v < deviceReg.length; v++) {
                    if (deviceReg[v].test(userAgentInfo)) {
                        flag = false;
                        break;
                    }
                }
                
                return flag;
            },
            hidenSummary : function(){
                if(!this.isPC)
                {
                    this.withSummary = false;
                }
            },
            bindMinHeight: function(){
                var vue = this;
                window.addEventListener("resize", function(){
                    vue.clientHeight = document.documentElement.clientHeight - 50;
                }, false);
                this.clientHeight = document.documentElement.clientHeight - 50;
            },
            bindAnchor : function(){
                if(this.$refs.section == undefined){
                    return;
                }
                window.addEventListener("hashchange", this.hashChange, false);
                window.addEventListener("resize", this.refreshContentNavigation, false);
                var elements = this.$refs.section.getElementsByTagName("a");
                var vue = this;
                for(var index = 0; index < elements.length; index++){
                    let element = elements[index];
                    let href = element.getAttribute("href");
                    if(href.length <= 0 || href[0] != "#"){
                        continue;
                    }

                    element.addEventListener('click', function(event){
                        location.hash = "!" + encodeURI(decodeURI(vue.anchorEscaping(element.hash.substring(1))));
                        event.preventDefault();
                    }, false);
                }

                this.refreshContentNavigation();
            },
            refreshContentNavigation : function(){
                if(this.$refs.section == undefined || !this.supportSubnav()){
                    return;
                }
                var subnavIndex = 0;
                var elements = this.$refs.section.getElementsByClassName("headerlink");
                var subnav = [];
                for(var index=0; index < elements.length; index++){
                    var element = elements[index];
                    if(element.parentElement.nodeName == "H2"){
                        subnav[subnavIndex++] = {'text' : element.title , 'hash' : "!" + element.hash.substring(1), 'offsetTop' : element.offsetTop};
                    }
                }
                this.contentNavigation = subnav;
            },
            hashChange : function(){
                var locationHash = location.hash.replace(/^#!/ig, "#");
                if(locationHash == ''){
                    return;
                }
                locationHash = decodeURI(locationHash);
                var hashes = this.$refs.section.getElementsByClassName("headerlink");
                var target = null;
                for(var index=0; index < hashes.length; index++){
                    var hash = hashes[index];
                    if(decodeURI(hash.hash) == locationHash){
                        target = hash;
                        break;
                    }
                }
                
                if(target == null){
                    return;
                }

                var top = target.offsetTop - 20; 
                
                if(top > 0)
                {
                    var vue = this;
                    $('.cookbook-content').animate({scrollTop:top}, 500, function(){
                        if(!vue.isPC){
                            vue.withSummary = false;
                        }
                    });
                }        
            },
            bindScroll : function(){
                if(!this.supportSubnav()){
                    return;
                }
                this.$refs.content.addEventListener("scroll", this.scrollChange, false);
            },
            scrollChange : function(e){
                this.contentOffset = { 
                    'offsetTop' : this.$refs.content.scrollTop,
                    'height' : this.$refs.content.scrollHeight - this.$refs.content.offsetHeight
                };
            },
            supportSubnav : function(){
                if(this.navigation.subnav != undefined && this.navigation.subnav == false){
                    return false;
                }
                return true;
            },
            clearSearch: function(){
                this.searched = null;
                this.$nextTick(function(){
                    this.hashChange();
                });
            },
            searchSubmit: function(){
                if(!this.isPC)
                {
                    this.withSummary = false;
                }
            },
            anchorEscaping : function(str){
                return str.replace(' ', '-').replace('.', '-');
            },
            setSearchDisabled : function(value){
                this.searchDisabled = value;
            },
            initComments : function(){
                
                    var vue = this;
                    var theme = {
                        render : function(state, instance) {
                            var container = document.createElement('div');
                            container.lang = "en-US";
                            container.className = 'gitment-container gitment-root-container';
                            container.appendChild(instance.renderHeader(state, instance));
                            container.appendChild(instance.renderComments(state, instance));
                            container.appendChild(instance.renderEditor(state, instance));
                            return container;
                        },
                    }

                    var gitment = new Gitment({
                        id : 'catlib-en:v2/data-structure/sort-set.html',
                        owner: 'catlib',
                        repo: 'catlib-en.io',
                        oauth: {
                            client_id: '3620f7cdd1c50b4b6e3c',
                            client_secret: '50664006a799cb29b27e8358b88a6a4580e8dc0c',
                            cross_server: 'https://31225080.ap-southeast-1.fc.aliyuncs.com/2016-08-15/proxy/gitment/gitment-cross/',
                        },
                        labels : [
                            'CatLib'
                        ],
                        link: 'https://catlib.io/v2/data-structure/sort-set.html',
                        maintainer: ["yb199478"],
                        theme : theme,
                        perPage : 30,
                    });

                    gitment.render(this.$refs.comments);
                
            },
        },mounted : function() {
            this.isPC = this.withSummary = this.testPC();
            this.$nextTick(function(){
                this.bindScroll();
                this.bindAnchor();
                this.hashChange();
                this.initComments();
                this.bindMinHeight();
            });
        },
        watch: {
            searched : function(){
                $('.cookbook-content').animate({scrollTop:0}, 0);
            }
        },
        computed:{
            minHeightStyle : function()
            {
                return { 'min-height' : this.clientHeight + "px" }
            }
        }
    });
};
</script>
    

    
    <script src="/scripts/cookbook.js"></script>
    
      <script src="/scripts/gitment.js"></script>
    
    
    
  </body>
</html>